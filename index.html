<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EZY: Cyber ‚Äî –ò–¥–µ–∞–ª—å–Ω—ã–π —á–∞—Ä–Ω–∏–∫</title>
    <meta name="description" content="–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ª–∏—Å—Ç –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –¥–ª—è –Ω–∞—Å—Ç–æ–ª—å–Ω–æ–π —Ä–æ–ª–µ–≤–æ–π –∏–≥—Ä—ã EZY: Cyber">
    
    <!-- –ò–∫–æ–Ω–∫–∞ —Å–∞–π—Ç–∞ -->
    <link rel="icon" type="image/png" href="https://static.tildacdn.com/tild3037-6565-4133-b430-363832636466/IMG_8068.PNG">
    <link rel="shortcut icon" type="image/png" href="https://static.tildacdn.com/tild3037-6565-4133-b430-363832636466/IMG_8068.PNG">
    <link rel="apple-touch-icon" href="https://static.tildacdn.com/tild3037-6565-4133-b430-363832636466/IMG_8068.PNG">
    
    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ CSS —Å—Ç–∏–ª–µ–π -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- –ó–∞–≥–ª—É—à–∫–∞ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ -->
    <div class="mobile-warning" id="mobileWarning" style="display: none;">
        <div class="mobile-warning-content">
            <div class="mobile-warning-icon">&#x1F4F1;</div>
            <h2 class="mobile-warning-title">–≠–∫—Ä–∞–Ω —Å–ª–∏—à–∫–æ–º –º–∞–ª</h2>
            <p class="mobile-warning-text">
                –î–∞–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–æ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö —Å –±–æ–ª—å—à–∏–º —ç–∫—Ä–∞–Ω–æ–º.
                <br><br>
                –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ, –Ω–æ—É—Ç–±—É–∫–µ –∏–ª–∏ –ø–ª–∞–Ω—à–µ—Ç–µ —Å —ç–∫—Ä–∞–Ω–æ–º —à–∏—Ä–∏–Ω–æ–π –æ—Ç 1024px.
            </p>
            <div class="mobile-warning-specs">
                <div>–í–∞—à —ç–∫—Ä–∞–Ω: <span id="screenWidth">0</span>px</div>
                <div>–ú–∏–Ω–∏–º—É–º: 1024px</div>
            </div>
        </div>
    </div>

    <!-- –ó–∞–≥—Ä—É–∑–æ—á–Ω—ã–π —ç–∫—Ä–∞–Ω -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-logo">EZY: CYBER // HUMAN_DESIGN [DESIGN BETA v0.90.008]</div>
        <div class="loading-log" id="loadingLog">
            <div class="loading-log-item" id="logItem1"></div>
            <div class="loading-log-item" id="logItem2"></div>
            <div class="loading-log-item" id="logItem3"></div>
            <div class="loading-log-item" id="logItem4"></div>
            <div class="loading-log-item" id="logItem5"></div>
            <div class="loading-log-item" id="logItem6"></div>
        </div>
        <div class="loading-progress">
            <div class="loading-progress-bar" id="progressBar"></div>
            <div class="loading-progress-text" id="progressText">0%</div>
        </div>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å -->
    <div class="main-interface" id="mainInterface">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <header class="header">
            <div class="header-title"><img src="https://static.tildacdn.com/tild3037-6565-4133-b430-363832636466/IMG_8068.PNG" alt="üß¨" style="width: 50px; height: 50px; margin-right: 0.5rem; vertical-align: middle;"> EZY: Cyber ‚Äî –õ–∏—Å—Ç –ø–µ—Ä—Å–æ–Ω–∞–∂–∞</div>
            <div class="header-controls">
                <button class="pill-button primary-button" onclick="exportData()">&#x1F4BE; –≠–∫—Å–ø–æ—Ä—Ç JSON</button>
                <button class="pill-button muted-button" onclick="importData()">&#x27F2; –ò–º–ø–æ—Ä—Ç JSON</button>
                <button class="pill-button danger-button" onclick="clearAllData()">–û—á–∏—Å—Ç–∏—Ç—å –¥–∞–Ω–Ω—ã–µ</button>
            </div>
        </header>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <main class="main-content">

            <!-- –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è - –ø–æ–ª–Ω–æ—à–∏—Ä–∏–Ω–Ω—ã–π –±–ª–æ–∫ -->
            <div class="section full-width-section" id="generalInfoSection">
                <div class="section-header">
                    <h3 class="section-title"><img src="https://static.tildacdn.com/tild3634-6236-4031-b939-313937393365/resume.png" alt="üß†" style="width: 24px; height: 24px; margin-right: 0.5rem;"> –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                </div>
                <div class="section-content expanded">
                    <!-- –ì–ª–∞–≤–Ω–∞—è —Å–µ—Ç–∫–∞: –ê–≤–∞—Ç–∞—Ä —Å–ª–µ–≤–∞, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ —Ü–µ–Ω—Ç—Ä–µ -->
                    <div class="character-sheet-layout" style="display: grid; grid-template-columns: auto 1fr; gap: 2rem; margin-bottom: 1.5rem;">
                        <!-- –ê–≤–∞—Ç–∞—Ä, –∫–Ω–æ–ø–∫–∏, –∑–¥–æ—Ä–æ–≤—å–µ –∏ –¥–µ–Ω—å–≥–∏ -->
                        <div class="avatar-section">
                            <div id="avatarDisplay" class="avatar-placeholder" style="width: 100%; height: 400px;">
                                &#x1F916;
                            </div>
                            <div class="avatar-controls">
                                <label class="pill-button muted-button avatar-button">
                                    &#x1F4F7; –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ
                                    <input type="file" id="avatarInput" accept="image/*" style="display: none;" />
                                </label>
                                <button class="pill-button muted-button avatar-button" id="removeAvatarButton"><img src="https://static.tildacdn.com/tild6166-3331-4338-b038-623539346365/x-button.png" alt="üóëÔ∏è" style="width: 16px; height: 16px;"> –£–¥–∞–ª–∏—Ç—å</button>
                            </div>
                            
                            <!-- –ü—É–Ω–∫—Ç—ã –∑–¥–æ—Ä–æ–≤—å—è -->
                            <div class="health-box" style="margin-top: 1rem; width: 100%; display: flex; flex-direction: column; align-items: center;">
                                <div class="health-icon"><img src="https://static.tildacdn.com/tild6361-6133-4534-b338-616664333865/heart.png" alt="‚ù§Ô∏è" style="width: 24px; height: 24px;"></div>
                                <div class="health-label" style="font-size: 0.7rem; text-align: center;">–ü–£–ù–ö–¢–´ –ó–î–û–†–û–í–¨–Ø</div>
                                <div class="health-values" style="display: flex; align-items: center; gap: 0.5rem; justify-content: center;">
                                    <input type="text" class="health-input" id="healthCurrent" value="25" min="0" onchange="state.health.current = parseInt(this.value); scheduleSave();" style="width: 60px; text-align: center; padding: 0.5rem; background: rgba(0,0,0,0.3); border: 1px solid var(--border); border-radius: 4px; color: var(--text); font-size: 1rem; font-weight: 600;">
                                    <span class="health-separator" style="color: var(--text); font-size: 1rem; font-weight: 600;">/</span>
                                    <input type="text" class="health-input" id="healthMax" value="38" readonly style="width: 60px; text-align: center; padding: 0.5rem; background: rgba(0,0,0,0.3); border: 1px solid var(--border); border-radius: 4px; color: var(--text); font-size: 1rem; font-weight: 600;">
                                </div>
                            </div>
                            
                            <!-- YenEuro -->
                            <div class="money-box" style="margin-top: 0.75rem; width: 100%;">
                                <div class="money-icon"><img src="https://static.tildacdn.com/tild3939-6162-4633-a238-623334613265/photo.png" alt="üí∞" style="width: 16px; height: 16px; vertical-align: middle;"></div>
                                <div class="money-label" style="font-size: 0.7rem;">YenEuro</div>
                                <input type="text" class="money-input" id="money" value="0" onchange="state.money = parseInt(this.value.replace(/\\s+/g, '')) || 0; this.value = formatMoney(state.money); scheduleSave();" style="width: 100%; font-size: 1rem; padding: 0.5rem; text-align: center;">
                                <button class="deposit-button" onclick="showDepositModal()" style="background: transparent; border: none; color: var(--accent); text-decoration: underline; font-size: 0.7rem; cursor: pointer; margin-top: 0.25rem; padding: 0;">–í–Ω–µ—Å—Ç–∏ —É–µ</button>
                            </div>
                            
                            <!-- –†–µ–ø—É—Ç–∞—Ü–∏—è -->
                            <div class="reputation-section" style="margin-top: 0.75rem; width: 100%;">
                                <div class="reputation-label" style="font-size: 0.7rem; color: var(--accent); font-weight: 600; margin-bottom: 0.5rem; text-transform: uppercase; text-align: center;">–†–ï–ü–£–¢–ê–¶–ò–Ø</div>
                                <div class="reputation-controls" style="display: flex; flex-direction: column; align-items: center; gap: 0.5rem;">
                                    <input type="range" class="reputation-slider" id="reputationSlider" min="-10" max="10" value="0" oninput="state.reputation = parseInt(this.value); document.getElementById('reputationValue').textContent = this.value; updateReputationColor(); scheduleSave();" style="width: 100%;">
                                    <div class="reputation-value" id="reputationValue" style="text-align: center; font-weight: 600; font-size: 1.2rem; color: white;">0</div>
                                </div>
                            </div>
                            
                            <!-- –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –Ω–∞–≤—ã–∫–∏ -->
                            <div class="professional-skills-section" style="margin-top: 0.75rem; width: 100%;">
                                <div class="professional-skills-label" style="font-size: 0.7rem; color: var(--accent); font-weight: 600; margin-bottom: 0.5rem; text-transform: uppercase; text-align: center;">–ü–†–û–§–ï–°–°–ò–û–ù–ê–õ–¨–ù–´–ï –ù–ê–í–´–ö–ò</div>
                                <div class="professional-skills-content" style="background: rgba(0,0,0,0.2); border: 1px solid rgba(182, 103, 255, 0.2); border-radius: 8px; padding: 0.5rem;">
                                    <div class="professional-skills-header" style="display: grid; grid-template-columns: 1fr 60px; gap: 0.5rem; margin-bottom: 0.5rem; font-size: 0.6rem; color: var(--muted); text-transform: uppercase; font-weight: 600;">
                                        <div>–ù–ê–ó–í–ê–ù–ò–ï</div>
                                        <div style="text-align: center;">–£–†–û–í–ï–ù–¨</div>
                                    </div>
                                    <div class="professional-skills-rows">
                                        <div class="professional-skill-row" style="display: flex; gap: 0.5rem; margin-bottom: 0.25rem; align-items: flex-start;">
                                            <textarea class="professional-skill-name" id="professionalSkillName0" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –Ω–∞–≤—ã–∫–∞" onchange="updateProfessionalSkill(0, this.value, document.getElementById('professionalSkillLevel0').value);" style="background: rgba(0,0,0,0.3); border: 1px solid var(--border); border-radius: 3px; padding: 0.25rem; color: var(--text); font-size: 0.7rem; height: 1.5rem; resize: none; overflow: hidden; font-family: inherit; flex: 1;"></textarea>
                                            <div class="integrated-numeric-input" style="width: 60px;">
                                                <button class="integrated-numeric-btn" onclick="decreaseProfessionalSkillLevel(0)">-</button>
                                                <input type="text" class="integrated-numeric-field" id="professionalSkillLevel0" value="0" min="0" max="15" onchange="updateProfessionalSkill(0, document.getElementById('professionalSkillName0').value, this.value);" style="font-size: 0.7rem;">
                                                <button class="integrated-numeric-btn" onclick="increaseProfessionalSkillLevel(0)">+</button>
                                            </div>
                                        </div>
                                        <div class="professional-skill-row" style="display: flex; gap: 0.5rem; margin-bottom: 0.25rem; align-items: flex-start;">
                                            <textarea class="professional-skill-name" id="professionalSkillName1" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –Ω–∞–≤—ã–∫–∞" onchange="updateProfessionalSkill(1, this.value, document.getElementById('professionalSkillLevel1').value);" style="background: rgba(0,0,0,0.3); border: 1px solid var(--border); border-radius: 3px; padding: 0.25rem; color: var(--text); font-size: 0.7rem; height: 1.5rem; resize: none; overflow: hidden; font-family: inherit; flex: 1;"></textarea>
                                            <div class="integrated-numeric-input" style="width: 60px;">
                                                <button class="integrated-numeric-btn" onclick="decreaseProfessionalSkillLevel(1)">-</button>
                                                <input type="text" class="integrated-numeric-field" id="professionalSkillLevel1" value="0" min="0" max="15" onchange="updateProfessionalSkill(1, document.getElementById('professionalSkillName1').value, this.value);" style="font-size: 0.7rem;">
                                                <button class="integrated-numeric-btn" onclick="increaseProfessionalSkillLevel(1)">+</button>
                                            </div>
                                        </div>
                                        <div class="professional-skill-row" style="display: flex; gap: 0.5rem; margin-bottom: 0.25rem; align-items: flex-start;">
                                            <textarea class="professional-skill-name" id="professionalSkillName2" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –Ω–∞–≤—ã–∫–∞" onchange="updateProfessionalSkill(2, this.value, document.getElementById('professionalSkillLevel2').value);" style="background: rgba(0,0,0,0.3); border: 1px solid var(--border); border-radius: 3px; padding: 0.25rem; color: var(--text); font-size: 0.7rem; height: 1.5rem; resize: none; overflow: hidden; font-family: inherit; flex: 1;"></textarea>
                                            <div class="integrated-numeric-input" style="width: 60px;">
                                                <button class="integrated-numeric-btn" onclick="decreaseProfessionalSkillLevel(2)">-</button>
                                                <input type="text" class="integrated-numeric-field" id="professionalSkillLevel2" value="0" min="0" max="15" onchange="updateProfessionalSkill(2, document.getElementById('professionalSkillName2').value, this.value);" style="font-size: 0.7rem;">
                                                <button class="integrated-numeric-btn" onclick="increaseProfessionalSkillLevel(2)">+</button>
                                            </div>
                                        </div>
                                        <div class="professional-skill-row" style="display: flex; gap: 0.5rem; align-items: flex-start;">
                                            <textarea class="professional-skill-name" id="professionalSkillName3" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –Ω–∞–≤—ã–∫–∞" onchange="updateProfessionalSkill(3, this.value, document.getElementById('professionalSkillLevel3').value);" style="background: rgba(0,0,0,0.3); border: 1px solid var(--border); border-radius: 3px; padding: 0.25rem; color: var(--text); font-size: 0.7rem; height: 1.5rem; resize: none; overflow: hidden; font-family: inherit; flex: 1;"></textarea>
                                            <div class="integrated-numeric-input" style="width: 60px;">
                                                <button class="integrated-numeric-btn" onclick="decreaseProfessionalSkillLevel(3)">-</button>
                                                <input type="text" class="integrated-numeric-field" id="professionalSkillLevel3" value="0" min="0" max="15" onchange="updateProfessionalSkill(3, document.getElementById('professionalSkillName3').value, this.value);" style="font-size: 0.7rem;">
                                                <button class="integrated-numeric-btn" onclick="increaseProfessionalSkillLevel(3)">+</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è —Å–µ–∫—Ü–∏—è —Å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏ -->
                        <div class="character-stats-section" style="display: flex; flex-direction: column; gap: 1rem;">
                            <!-- –ò–º—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ -->
                            <div class="input-group">
                                <label class="input-label">–ò–ú–Ø –ü–ï–†–°–û–ù–ê–ñ–ê</label>
                                <input type="text" class="input-field" id="characterName" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è" onchange="state.characterName = this.value; scheduleSave();">
                            </div>
                            
                            <!-- –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞: –û–ß–ö–ò –û–ü–´–¢–ê, –†–û–õ–ï–í–´–ï –û–ß–ö–ò, –û–°–û–ó–ù–ê–ù–ù–û–°–¢–¨, –£–ú, –õ–í–ö -->
                            <div class="stats-grid-derived">
                                <div class="input-group-compact">
                                    <div class="input-label-compact">–û–ß–ö–ò –û–ü–´–¢–ê</div>
                                    <input type="text" class="input-field-compact" id="experiencePoints" value="0" data-numeric="true" min="0" max="9999" onchange="state.experiencePoints = parseInt(this.value); scheduleSave();">
                                </div>
                                <div class="input-group-compact">
                                    <div class="input-label-compact">–†–û–õ–ï–í–´–ï –û–ß–ö–ò</div>
                                    <input type="text" class="input-field-compact" id="roleplayPoints" value="0" data-numeric="true" min="0" max="9999" onchange="state.roleplayPoints = parseInt(this.value); scheduleSave();">
                                </div>
                                <div class="stat-dual-compact">
                                    <div class="stat-label-compact">–û–°–û–ó–ù–ê–ù–ù–û–°–¢–¨</div>
                                    <div class="dual-values-compact">
                                        <input type="text" class="dual-value-compact" id="awarenessCurrent" value="50" min="0" max="999" onchange="state.awareness.current = parseInt(this.value); scheduleSave();">
                                        <span class="dual-separator-compact">/</span>
                                        <input type="text" class="dual-value-compact" id="awarenessMax" value="50" min="1" max="999" onchange="state.awareness.max = parseInt(this.value); scheduleSave();">
                                    </div>
                                    <div class="stat-formula-compact">–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –û—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç—å = –£–ú*10</div>
                                </div>
                                <div class="stat-box-compact">
                                    <div class="stat-label-compact" title="–£–º">–£–ú</div>
                                    <input type="text" class="stat-value-compact" id="statINT" value="5" min="1" max="20" onchange="state.stats.INT = parseInt(this.value); updateAwarenessMax(); scheduleSave();">
                                </div>
                                <div class="stat-box-compact">
                                    <div class="stat-label-compact" title="–õ–æ–≤–∫–æ—Å—Ç—å">–õ–í–ö</div>
                                    <input type="text" class="stat-value-compact" id="statDEX" value="5" min="1" max="20" onchange="state.stats.DEX = parseInt(this.value); updateDerivedStats(); scheduleSave();">
                                </div>
                            </div>
                            
                            <!-- –í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞: –¢–ï–õ–û, –¢–ï–•, –•–ê–†, –†–ï–ê, –í–û–õ–Ø -->
                            <div class="stats-grid-derived">
                                <div class="stat-box-compact">
                                    <div class="stat-label-compact" title="–¢–µ–ª–æ—Å–ª–æ–∂–µ–Ω–∏–µ">–¢–ï–õ–û</div>
                                    <input type="text" class="stat-value-compact" id="statBODY" value="5" min="1" max="20" onchange="state.stats.BODY = parseInt(this.value); calculateAndUpdateHealth(); updateDerivedStats(); scheduleSave();">
                                </div>
                                <div class="stat-box-compact">
                                    <div class="stat-label-compact" title="–¢–µ—Ö–Ω–∏–∫–∞">–¢–ï–•</div>
                                    <input type="text" class="stat-value-compact" id="statTECH" value="5" min="1" max="20" onchange="state.stats.TECH = parseInt(this.value); scheduleSave();">
                                </div>
                                <div class="stat-box-compact">
                                    <div class="stat-label-compact" title="–•–∞—Ä–∏–∑–º–∞">–•–ê–†</div>
                                    <input type="text" class="stat-value-compact" id="statCHA" value="5" min="1" max="20" onchange="state.stats.CHA = parseInt(this.value); scheduleSave();">
                                </div>
                                <div class="stat-box-compact">
                                    <div class="stat-label-compact" title="–†–µ–∞–∫—Ü–∏—è">–†–ï–ê</div>
                                    <input type="text" class="stat-value-compact" id="statREA" value="5" min="1" max="20" onchange="state.stats.REA = parseInt(this.value); scheduleSave();">
                                </div>
                                <div class="stat-dual-compact">
                                    <div class="stat-label-compact">–í–û–õ–Ø</div>
                                    <div class="dual-values-compact">
                                        <input type="text" class="dual-value-compact" id="statWILL" value="5" min="1" max="20" onchange="state.stats.WILL = parseInt(this.value); updateDerivedStats(); scheduleSave();">
                                    </div>
                                </div>
                            </div>
                            
                            <!-- –¢—Ä–µ—Ç—å—è —Å—Ç—Ä–æ–∫–∞: –í–û–°, –°–ö–û–†–û–°–¢–¨ –ü–ï–†–ï–ú–ï–©–ï–ù–ò–Ø, –°–ö–û–†–û–°–¢–¨ –†–£–ö–û–ü–ê–®–ù–û–ô –ê–¢–ê–ö–ò, –£–î–ê–ß–ê -->
                            <div class="stats-grid-derived">
                                <div class="derived-stat-compact">
                                    <div class="derived-label-compact" title="–í—Ä–æ–∂–¥—ë–Ω–Ω–∞—è –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—â–∞—è –°–∏–ª–∞ (–ë—Ä–æ–Ω—è)">–í–û–°</div>
                                    <div class="derived-value-compact" id="derivedArmor">2</div>
                                </div>
                                <div class="derived-stat-compact">
                                    <div class="derived-label-compact" title="–°–∫–æ—Ä–æ—Å—Ç—å –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏—è">–°–ö–û–†–û–°–¢–¨ –ü–ï–†–ï–ú–ï–©–ï–ù–ò–Ø</div>
                                    <div class="derived-value-compact" id="derivedSpeed">5</div>
                                    <div id="speedWarning" style="display: none;"></div>
                                </div>
                                <div class="derived-stat-compact">
                                    <div class="derived-label-compact" title="–°–∫–æ—Ä–æ—Å—Ç—å –†—É–∫–æ–ø–∞—à–Ω–æ–π –ê—Ç–∞–∫–∏">–°–ö–û–†–û–°–¢–¨ –†–£–ö–û–ü–ê–®–ù–û–ô –ê–¢–ê–ö–ò</div>
                                    <div class="derived-value-compact" id="derivedAttackSpeed">2</div>
                                </div>
                                <div class="stat-dual-compact">
                                    <div class="stat-label-compact">–£–î–ê–ß–ê</div>                           
                                    <div class="dual-values-compact">
                                        <input type="text" class="dual-value-compact" id="luckCurrent" value="1" min="0" max="99" onchange="state.luck.current = parseInt(this.value); scheduleSave();">
                                        <span class="dual-separator-compact">/</span>
                                        <input type="text" class="dual-value-compact" id="luckMax" value="1" min="1" max="99" onchange="state.luck.max = parseInt(this.value); scheduleSave();">
                                    </div>
                                </div>
                            </div>
                            
                            <!-- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ç—Ä–∞–≤–º—ã -->
                            <div class="injuries-section" style="margin-top: 1rem;">
                                <div class="injuries-label">–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –¢–†–ê–í–ú–´</div>
                                <button class="pill-button primary-button" onclick="addCriticalInjury()">+ –î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞–≤–º—É</button>
                                <div id="injuriesList" class="injuries-list">
                                    <p style="color: var(--muted); font-size: 0.9rem; margin-top: 0.5rem;">–¢—Ä–∞–≤–º—ã –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã</p>
                                </div>
                            </div>

                            <!-- –ü—Ä–µ–¥—ã—Å—Ç–æ—Ä–∏—è -->
                            <div class="backstory-section" style="margin-top: 1rem;">
                                <div class="backstory-header">
                                    <div class="backstory-icon">&#x1F4C4;</div>
                                    <div class="backstory-label">–ü—Ä–µ–¥—ã—Å—Ç–æ—Ä–∏—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞</div>
                                    <button class="pill-button primary-button" onclick="generateBackstory()">&#x1F3B2; –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å</button>
                                </div>
                                <textarea class="backstory-textarea" id="backstoryText" placeholder="–ù—É –∏ –∫–∞–∫ —Ç—ã —Å—é–¥–∞ –ø–æ–ø–∞–ª?" onchange="state.backstory = this.value; scheduleSave();" style="height: 200px;"></textarea>
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>

            <!-- –ù–∞–≤—ã–∫–∏ - –ø–æ–ª–Ω–æ—à–∏—Ä–∏–Ω–Ω—ã–π –±–ª–æ–∫ -->
            <div class="section full-width-section" id="skillsSection">
                <div class="section-header">
                    <h3 class="section-title"><img src="https://static.tildacdn.com/tild6233-3935-4063-b062-356337336561/pencil.png" alt="üî´" style="width: 24px; height: 24px; margin-right: 0.5rem;"> –ù–∞–≤—ã–∫–∏</h3>
                    <button class="pill-button primary-button" onclick="showAddSkillModal()" style="font-size: 0.8rem; padding: 0.3rem 0.6rem;">–î–æ–±–∞–≤–∏—Ç—å –Ω–∞–≤—ã–∫</button>
                </div>
                <div class="section-content expanded">
                    <div id="skillsContainer">
                        <p style="color: var(--muted); text-align: center; padding: 2rem;">–ù–∞–≤—ã–∫–∏ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã. –î–æ–±–∞–≤—å—Ç–µ –Ω–∞–≤—ã–∫–∏ –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–∏.</p>
                    </div>
                </div>
            </div>

            <!-- –°–µ—Ç–∫–∞ —Å–µ–∫—Ü–∏–π -->
            <div class="sections-grid" id="sectionsGrid" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.5rem;">


                <!-- –û—Ä—É–∂–∏–µ -->
                <div class="section" id="weaponSection">
                    <div class="section-header">
                        <h3 class="section-title"><img src="https://static.tildacdn.com/tild6334-3163-4362-b232-366332396435/weapon.png" alt="üî´" style="width: 24px; height: 24px; margin-right: 0.5rem;"> –û—Ä—É–∂–∏–µ</h3>
                    </div>
                    <div class="section-content expanded">
                        <div style="display: flex; gap: 0.5rem; justify-content: center; margin-bottom: 1rem;">
                            <button class="pill-button primary-button" onclick="showWeaponShop()" style="font-size: 0.8rem; padding: 0.3rem 0.6rem;"><img src="https://static.tildacdn.com/tild6334-3163-4362-b232-366332396435/weapon.png" alt="üî´" style="width: 16px; height: 16px; margin-right: 0.25rem; vertical-align: middle;"> –ö—É–ø–∏—Ç—å –æ—Ä—É–∂–∏–µ</button>
                            <button class="pill-button success-button" onclick="showWeaponModulesShop()" style="font-size: 0.8rem; padding: 0.3rem 0.6rem;"><img src="https://static.tildacdn.com/tild3039-3233-4562-b766-373233626433/shop.png" alt="üîß" style="width: 16px; height: 16px; margin-right: 0.25rem; vertical-align: middle;"> –ö—É–ø–∏—Ç—å –º–æ–¥—É–ª–∏</button>
                        </div>
                        <div id="weaponsContainer">
                            <p style="color: var(--muted); text-align: center; padding: 2rem;">–û—Ä—É–∂–∏–µ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ</p>
                        </div>
                    </div>
                </div>

                <!-- –ë–æ–µ–ø—Ä–∏–ø–∞—Å—ã -->
                <div class="section" id="ammoSection">
                    <div class="section-header">
                        <h3 class="section-title"><img src="https://static.tildacdn.com/tild3334-6338-4439-a262-316631336461/bullets.png" alt="üî´" style="width: 24px; height: 24px; margin-right: 0.5rem;"> –ë–æ–µ–ø—Ä–∏–ø–∞—Å—ã</h3>
                        <div style="display: flex; gap: 0.5rem;">
                            <button class="pill-button primary-button" onclick="showAmmoShop()" style="font-size: 0.8rem; padding: 0.3rem 0.6rem;">–ö—É–ø–∏—Ç—å –±–æ–µ–ø—Ä–∏–ø–∞—Å—ã</button>
                        </div>
                    </div>
                    <div class="section-content expanded">
                        <div id="ammoContainer">
                            <p style="color: var(--muted); text-align: center; padding: 2rem;">–ë–æ–µ–ø—Ä–∏–ø–∞—Å—ã –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã</p>
                        </div>
                    </div>
                </div>

                <!-- –ë—Ä–æ–Ω—è -->
                <div class="section" id="armorSection">
                    <div class="section-header">
                        <h3 class="section-title"><img src="https://static.tildacdn.com/tild3531-3730-4631-a438-353361653361/bulletproof-vest.png" alt="üõ°Ô∏è" style="width: 24px; height: 24px; margin-right: 0.5rem;"> –ë—Ä–æ–Ω—è</h3>
                    </div>
                    <div class="section-content expanded">
                        <div style="display: flex; gap: 0.5rem; justify-content: center; margin-bottom: 1rem;">
                            <button class="pill-button primary-button" onclick="showArmorShop()" style="font-size: 0.8rem; padding: 0.3rem 0.6rem;">–ö—É–ø–∏—Ç—å –±—Ä–æ–Ω—é</button>
                        </div>
                        <div style="display: grid; gap: 0.5rem;">
                            <!-- –ì–æ–ª–æ–≤–∞ -->
                            <div style="display: grid; grid-template-columns: 80px 1fr 1.5fr; gap: 0.75rem; align-items: center;">
                                <span style="color: var(--accent); font-weight: 600; font-size: 0.9rem;">–ì–æ–ª–æ–≤–∞:</span>
                                <div style="display: flex; align-items: center; gap: 0.5rem;">
                                    <span style="color: var(--muted); font-size: 0.8rem;" title="–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—â–∞—è –°–∏–ª–∞">–û–°:</span>
                                    <input type="text" class="input-field" id="armorHeadOS" value="0" min="0" max="99" onchange="state.armor.head.os = parseInt(this.value); scheduleSave(); updateArmorPenalty();" style="width: 60px; padding: 0.4rem; text-align: center;">
                                    <button onclick="decreaseArmorOS('head')" style="background: transparent; border: none; color: var(--accent); cursor: pointer; font-size: 1.2rem; padding: 0; margin-left: 0.25rem;" title="–£–º–µ–Ω—å—à–∏—Ç—å –û–°">‚ñº</button>
                                </div>
                                <div style="display: flex; align-items: center; gap: 0.5rem;">
                                    <span style="color: var(--muted); font-size: 0.8rem;">–¢–∏–ø:</span>
                                    <select class="input-field" id="armorHeadType" onchange="state.armor.head.type = this.value; scheduleSave(); updateArmorPenalty();" style="padding: 0.4rem;">
                                        <option value="–õ—ë–≥–∫–∞—è">–õ—ë–≥–∫–∞—è 10 –û–°</option>
                                        <option value="–°—Ä–µ–¥–Ω—è—è">–°—Ä–µ–¥–Ω—è—è 15 –û–°</option>
                                        <option value="–¢—è–∂—ë–ª–∞—è">–¢—è–∂—ë–ª–∞—è 18 –û–°</option>
                                        <option value="–¢–∏—Ç–∞–Ω–∏—á–µ—Å–∫–∞—è">–¢–∏—Ç–∞–Ω–∏—á–µ—Å–∫–∞—è 25 –û–°</option>
                                    </select>
                                </div>
                            </div>
                            
                            <!-- –¢–µ–ª–æ -->
                            <div style="display: grid; grid-template-columns: 80px 1fr 1.5fr; gap: 0.75rem; align-items: center;">
                                <span style="color: var(--accent); font-weight: 600; font-size: 0.9rem;">–¢–µ–ª–æ:</span>
                                <div style="display: flex; align-items: center; gap: 0.5rem;">
                                    <span style="color: var(--muted); font-size: 0.8rem;" title="–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—â–∞—è –°–∏–ª–∞">–û–°:</span>
                                    <input type="text" class="input-field" id="armorBodyOS" value="0" min="0" max="99" onchange="state.armor.body.os = parseInt(this.value); scheduleSave(); updateArmorPenalty();" style="width: 60px; padding: 0.4rem; text-align: center;">
                                    <button onclick="decreaseArmorOS('body')" style="background: transparent; border: none; color: var(--accent); cursor: pointer; font-size: 1.2rem; padding: 0; margin-left: 0.25rem;" title="–£–º–µ–Ω—å—à–∏—Ç—å –û–°">‚ñº</button>
                                </div>
                                <div style="display: flex; align-items: center; gap: 0.5rem;">
                                    <span style="color: var(--muted); font-size: 0.8rem;">–¢–∏–ø:</span>
                                    <select class="input-field" id="armorBodyType" onchange="state.armor.body.type = this.value; scheduleSave(); updateArmorPenalty();" style="padding: 0.4rem;">
                                        <option value="–õ—ë–≥–∫–∞—è">–õ—ë–≥–∫–∞—è 10 –û–°</option>
                                        <option value="–°—Ä–µ–¥–Ω—è—è">–°—Ä–µ–¥–Ω—è—è 15 –û–°</option>
                                        <option value="–¢—è–∂—ë–ª–∞—è">–¢—è–∂—ë–ª–∞—è 18 –û–°</option>
                                        <option value="–¢–∏—Ç–∞–Ω–∏—á–µ—Å–∫–∞—è">–¢–∏—Ç–∞–Ω–∏—á–µ—Å–∫–∞—è 25 –û–°</option>
                                    </select>
                                </div>
                            </div>
                            
                            <!-- –†—É–∫–∏ -->
                            <div style="display: grid; grid-template-columns: 80px 1fr 1.5fr; gap: 0.75rem; align-items: center;">
                                <span style="color: var(--accent); font-weight: 600; font-size: 0.9rem;">–†—É–∫–∏:</span>
                                <div style="display: flex; align-items: center; gap: 0.5rem;">
                                    <span style="color: var(--muted); font-size: 0.8rem;" title="–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—â–∞—è –°–∏–ª–∞">–û–°:</span>
                                    <input type="text" class="input-field" id="armorArmsOS" value="0" min="0" max="99" onchange="state.armor.arms.os = parseInt(this.value); scheduleSave(); updateArmorPenalty();" style="width: 60px; padding: 0.4rem; text-align: center;">
                                    <button onclick="decreaseArmorOS('arms')" style="background: transparent; border: none; color: var(--accent); cursor: pointer; font-size: 1.2rem; padding: 0; margin-left: 0.25rem;" title="–£–º–µ–Ω—å—à–∏—Ç—å –û–°">‚ñº</button>
                                </div>
                                <div style="display: flex; align-items: center; gap: 0.5rem;">
                                    <span style="color: var(--muted); font-size: 0.8rem;">–¢–∏–ø:</span>
                                    <select class="input-field" id="armorArmsType" onchange="state.armor.arms.type = this.value; scheduleSave(); updateArmorPenalty();" style="padding: 0.4rem;">
                                        <option value="–õ—ë–≥–∫–∞—è">–õ—ë–≥–∫–∞—è 10 –û–°</option>
                                        <option value="–°—Ä–µ–¥–Ω—è—è">–°—Ä–µ–¥–Ω—è—è 15 –û–°</option>
                                        <option value="–¢—è–∂—ë–ª–∞—è">–¢—è–∂—ë–ª–∞—è 18 –û–°</option>
                                        <option value="–¢–∏—Ç–∞–Ω–∏—á–µ—Å–∫–∞—è">–¢–∏—Ç–∞–Ω–∏—á–µ—Å–∫–∞—è 25 –û–°</option>
                                    </select>
                                </div>
                            </div>
                            
                            <!-- –ù–æ–≥–∏ -->
                            <div style="display: grid; grid-template-columns: 80px 1fr 1.5fr; gap: 0.75rem; align-items: center;">
                                <span style="color: var(--accent); font-weight: 600; font-size: 0.9rem;">–ù–æ–≥–∏:</span>
                                <div style="display: flex; align-items: center; gap: 0.5rem;">
                                    <span style="color: var(--muted); font-size: 0.8rem;" title="–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—â–∞—è –°–∏–ª–∞">–û–°:</span>
                                    <input type="text" class="input-field" id="armorLegsOS" value="0" min="0" max="99" onchange="state.armor.legs.os = parseInt(this.value); scheduleSave(); updateArmorPenalty();" style="width: 60px; padding: 0.4rem; text-align: center;">
                                    <button onclick="decreaseArmorOS('legs')" style="background: transparent; border: none; color: var(--accent); cursor: pointer; font-size: 1.2rem; padding: 0; margin-left: 0.25rem;" title="–£–º–µ–Ω—å—à–∏—Ç—å –û–°">‚ñº</button>
                                </div>
                                <div style="display: flex; align-items: center; gap: 0.5rem;">
                                    <span style="color: var(--muted); font-size: 0.8rem;">–¢–∏–ø:</span>
                                    <select class="input-field" id="armorLegsType" onchange="state.armor.legs.type = this.value; scheduleSave(); updateArmorPenalty();" style="padding: 0.4rem;">
                                        <option value="–õ—ë–≥–∫–∞—è">–õ—ë–≥–∫–∞—è 10 –û–°</option>
                                        <option value="–°—Ä–µ–¥–Ω—è—è">–°—Ä–µ–¥–Ω—è—è 15 –û–°</option>
                                        <option value="–¢—è–∂—ë–ª–∞—è">–¢—è–∂—ë–ª–∞—è 18 –û–°</option>
                                        <option value="–¢–∏—Ç–∞–Ω–∏—á–µ—Å–∫–∞—è">–¢–∏—Ç–∞–Ω–∏—á–µ—Å–∫–∞—è 25 –û–°</option>
                                    </select>
                                </div>
                            </div>
                            
                            <!-- –®—Ç—Ä–∞—Ñ –æ—Ç –±—Ä–æ–Ω–∏ -->
                            <div style="margin-top: 1rem; padding: 0.75rem; background: rgba(255, 91, 135, 0.1); border: 1px solid var(--danger); border-radius: 8px;">
                                <div style="color: var(--danger); font-size: 0.8rem; font-weight: 600; margin-bottom: 0.5rem;">–®—Ç—Ä–∞—Ñ –æ—Ç –±—Ä–æ–Ω–∏:</div>
                                <div id="armorPenaltyText" style="color: var(--text); font-family: monospace; font-size: 0.75rem; line-height: 1.4;">–ë–µ–∑ —à—Ç—Ä–∞—Ñ–∞</div>
                            </div>
                            
                            <!-- –ù–∞—Ä–∞—Ç–∏–≤–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –±—Ä–æ–Ω–∏ -->
                            <div style="margin-top: 1rem;">
                                <label class="input-label" style="display: block; margin-bottom: 0.5rem;">–û–ü–ò–°–ê–ù–ò–ï –ë–†–û–ù–ò</label>
                                <textarea class="input-field" id="armorDescription" placeholder="–û–ø–∏—à–∏—Ç–µ, —á—Ç–æ –Ω–∞–¥–µ—Ç–æ –Ω–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ..." onchange="state.armor.description = this.value; scheduleSave();" style="min-height: 80px; resize: vertical;"></textarea>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- –î–µ–∫–∞ -->
                <div class="section" id="deckSection">
                    <div class="section-header">
                        <h3 class="section-title"><img src="https://static.tildacdn.com/tild3633-6632-4463-a435-353036636235/live-streaming.png" alt="üíæ" style="width: 24px; height: 24px; margin-right: 0.5rem;"> –î–µ–∫–∞</h3>
                        <button class="pill-button primary-button" onclick="showProgramShop()" style="font-size: 0.8rem; padding: 0.3rem 0.6rem;">–ö—É–ø–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É</button>
                    </div>
                    <div class="section-content expanded">
                        <!-- –ö–æ–º–ø–∞–∫—Ç–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –¥–µ–∫–∏ -->
                        <div style="display: grid; gap: 0.5rem; margin-bottom: 1rem;">
                            <!-- –ù–∞–∑–≤–∞–Ω–∏–µ –¥–µ–∫–∏ -->
                            <div style="display: grid; grid-template-columns: 80px 1fr; gap: 0.75rem; align-items: center;">
                                <span style="color: var(--accent); font-weight: 600; font-size: 0.9rem;">–ù–∞–∑–≤–∞–Ω–∏–µ:</span>
                                <input type="text" class="input-field" id="deckName" onchange="state.deck.name = this.value; scheduleSave();" placeholder="Pro Super 2007" style="padding: 0.4rem; font-size: 0.9rem;">
                            </div>
                            
                            <!-- –û–ø–µ—Ä–∞—Ç–∏–≤–∫–∞ –∏ –°–µ—Ç–∫–∞ -->
                            <div style="display: grid; grid-template-columns: 80px 1fr 1fr; gap: 0.75rem; align-items: center;">
                                <span style="color: var(--accent); font-weight: 600; font-size: 0.9rem;">–°–∏—Å—Ç–µ–º–∞:</span>
                                <div style="display: flex; align-items: center; gap: 0.5rem;">
                                    <span style="color: var(--muted); font-size: 0.8rem;" title="–û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –ü–∞–º—è—Ç—å">–û–ó–£:</span>
                                    <input type="text" class="input-field" id="deckOperative" onchange="state.deck.operative = this.value; scheduleSave();" placeholder="–û–ó–£" style="padding: 0.4rem; text-align: center;">
                                </div>
                                <div style="display: flex; align-items: center; gap: 0.5rem;">
                                    <span style="color: var(--muted); font-size: 0.8rem;">–°–µ—Ç–∫–∞:</span>
                                    <input type="text" class="input-field" id="deckGrid" onchange="state.deck.grid = this.value; scheduleSave();" placeholder="–°–µ—Ç–∫–∞" style="padding: 0.4rem; text-align: center;">
                                </div>
                            </div>
                            
                            <!-- –ü–∞–º—è—Ç—å –∏ –í–µ—Ä—Å–∏—è -->
                            <div style="display: grid; grid-template-columns: 80px 1fr 1fr; gap: 0.75rem; align-items: center;">
                                <span style="color: var(--accent); font-weight: 600; font-size: 0.9rem;">–î–∞–Ω–Ω—ã–µ:</span>
                                <div style="display: flex; align-items: center; gap: 0.5rem;">
                                    <span style="color: var(--muted); font-size: 0.8rem;">–ü–∞–º—è—Ç—å:</span>
                                    <input type="text" class="input-field" id="deckMemory" onchange="state.deck.memory = this.value; scheduleSave();" placeholder="–ü–∞–º—è—Ç—å" style="padding: 0.4rem; text-align: center;">
                                </div>
                                <div style="display: flex; align-items: center; gap: 0.5rem;">
                                    <span style="color: var(--muted); font-size: 0.8rem;" title="–ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –û–±–µ—Å–ø–µ—á–µ–Ω–∏–µ">–í–µ—Ä—Å–∏—è:</span>
                                    <input type="text" class="input-field" id="deckVersion" onchange="state.deck.version = this.value; scheduleSave();" placeholder="–ü–û" style="padding: 0.4rem; text-align: center;" title="–ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –û–±–µ—Å–ø–µ—á–µ–Ω–∏–µ">
                                </div>
                            </div>
                        </div>

                        <!-- –ü—Ä–æ–≥—Ä–∞–º–º—ã –¥–µ–∫–∏ - —Å–≤–æ—Ä–∞—á–∏–≤–∞–µ–º–∞—è —Å–µ–∫—Ü–∏—è -->
                        <div style="margin-bottom: 1rem;">
                            <div style="display: flex; align-items: center; justify-content: space-between; padding: 0.5rem; background: rgba(125, 244, 198, 0.1); border: 1px solid var(--success); border-radius: 8px; cursor: pointer;" onclick="toggleDeckSection('programs')">
                                <div style="display: flex; align-items: center; gap: 0.5rem;">
                                    <span id="deckProgramsToggle" style="color: var(--success); font-size: 0.8rem;">‚ñº</span>
                                    <span style="color: var(--success); font-weight: 600; font-size: 0.9rem;">–ü—Ä–æ–≥—Ä–∞–º–º—ã –¥–µ–∫–∏</span>
                                    <span id="deckProgramsCount" style="color: var(--muted); font-size: 0.8rem;">(0)</span>
                                </div>
                            </div>
                            <div id="deckProgramsContainer" style="margin-top: 0.5rem;">
                                <p style="color: var(--muted); text-align: center; padding: 1rem; font-size: 0.8rem;">–ü—Ä–æ–≥—Ä–∞–º–º—ã –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã</p>
                            </div>
                        </div>

                        <!-- –©–µ–ø–∫–∏ –ø–∞–º—è—Ç–∏ - —Å–≤–æ—Ä–∞—á–∏–≤–∞–µ–º–∞—è —Å–µ–∫—Ü–∏—è -->
                        <div>
                            <div style="display: flex; align-items: center; justify-content: space-between; padding: 0.5rem; background: rgba(182, 103, 255, 0.1); border: 1px solid var(--accent); border-radius: 8px; cursor: pointer;" onclick="toggleDeckSection('chips')">
                                <div style="display: flex; align-items: center; gap: 0.5rem;">
                                    <span id="deckChipsToggle" style="color: var(--accent); font-size: 0.8rem;">‚ñº</span>
                                    <span style="color: var(--accent); font-weight: 600; font-size: 0.9rem;">–©–µ–ø–∫–∏ –ø–∞–º—è—Ç–∏</span>
                                    <span id="deckChipsCount" style="color: var(--muted); font-size: 0.8rem;">(0)</span>
                                </div>
                                <button class="pill-button" onclick="event.stopPropagation(); addMemoryChip()" style="font-size: 0.7rem; padding: 0.2rem 0.5rem;">–î–æ–±–∞–≤–∏—Ç—å —â–µ–ø–∫—É</button>
                            </div>
                            <div id="deckChipsContainer" style="margin-top: 0.5rem;">
                                <p style="color: var(--muted); text-align: center; padding: 1rem; font-size: 0.8rem;">–©–µ–ø–∫–∏ –ø–∞–º—è—Ç–∏ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- –°–Ω–∞—Ä—è–∂–µ–Ω–∏–µ -->
                <div class="section" id="gearSection">
                    <div class="section-header">
                        <h3 class="section-title"><img src="https://static.tildacdn.com/tild3363-6531-4132-a138-663132646531/remote-control.png" alt="üéí" style="width: 24px; height: 24px; margin-right: 0.5rem;"> –°–Ω–∞—Ä—è–∂–µ–Ω–∏–µ</h3>
                    </div>
                    <div class="section-content expanded">
                        <div style="display: flex; gap: 0.5rem; justify-content: center; margin-bottom: 1rem;">
                            <button class="pill-button primary-button" onclick="showGearShop()" style="font-size: 0.8rem; padding: 0.3rem 0.6rem;">–ö—É–ø–∏—Ç—å —Å–Ω–∞—Ä—è–∂–µ–Ω–∏–µ</button>
                            <button class="pill-button success-button" onclick="pickupGear()" style="font-size: 0.8rem; padding: 0.3rem 0.6rem;">–ü–æ–¥–æ–±—Ä–∞—Ç—å —Å –ø–æ–ª–∞</button>
                        </div>
                        <div style="background: rgba(91, 155, 255, 0.1); border: 1px solid #5b9bff; border-radius: 8px; padding: 0.75rem; margin-bottom: 1rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem; white-space: nowrap;">
                                <span style="color: var(--text);">–ù–∞–≥—Ä—É–∑–∫–∞:</span>
                                <span style="color: var(--accent); font-weight: 600;"><span id="currentLoad">25</span> / <span id="maxLoad">25</span></span>
                            </div>
                            <div style="display: flex; justify-content: center; margin-bottom: 0.5rem;">
                                <button class="pill-button muted-button" onclick="resetLoad()" style="font-size: 0.8rem; padding: 0.3rem 0.6rem;">–°–±—Ä–æ—Å–∏—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É</button>
                            </div>
                            <div id="loadWarning" style="color: var(--danger); font-size: 0.9rem; margin-top: 0.5rem; display: none;"></div>
                        </div>
                        <div id="gearContainer">
                            <p style="color: var(--muted); text-align: center; padding: 2rem;">–°–Ω–∞—Ä—è–∂–µ–Ω–∏–µ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ</p>
                        </div>
                    </div>
                </div>

                <!-- –ü—Ä–µ–ø–∞—Ä–∞—Ç—ã -->
                <div class="section" id="drugsSection">
                    <div class="section-header">
                        <h3 class="section-title"><img src="https://static.tildacdn.com/tild3532-3565-4033-a136-653464353038/drugs.png" alt="üíä" style="width: 24px; height: 24px; margin-right: 0.5rem;"> –ü—Ä–µ–ø–∞—Ä–∞—Ç—ã</h3>
                        <button class="pill-button primary-button" onclick="showDrugsShop()" style="font-size: 0.8rem; padding: 0.3rem 0.6rem;">–ö—É–ø–∏—Ç—å –ø—Ä–µ–ø–∞—Ä–∞—Ç—ã</button>
                    </div>
                    <div class="section-content expanded">
                        <div id="drugsContainer">
                            <p style="color: var(--muted); text-align: center; padding: 2rem;">–ü—Ä–µ–ø–∞—Ä–∞—Ç—ã –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã</p>
                        </div>
                    </div>
                </div>

                <!-- –ö–∏–±–µ—Ä–∏–º–ø–ª–∞–Ω—Ç—ã -->
                <div class="section" id="implantsSection">
                    <div class="section-header">
                        <h3 class="section-title"><img src="https://static.tildacdn.com/tild3864-3638-4361-b139-616436373366/woman.png" alt="ü¶æ" style="width: 24px; height: 24px; margin-right: 0.5rem;"> –ö–∏–±–µ—Ä–∏–º–ø–ª–∞–Ω—Ç—ã</h3>
                    </div>
                    <div class="section-content expanded">
                        <div id="implantsContainer">
                            <p style="color: var(--muted); text-align: center; padding: 2rem;">–ö–∏–±–µ—Ä–∏–º–ø–ª–∞–Ω—Ç—ã –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã</p>
                        </div>
                        <div style="display: flex; gap: 0.5rem; justify-content: center; margin-top: 1rem;">
                            <button class="pill-button primary-button" onclick="showImplantShop()" style="font-size: 0.8rem; padding: 0.3rem 0.6rem;">–ö—É–ø–∏—Ç—å –º–æ–¥—É–ª—å</button>
                            <button class="pill-button" onclick="showImplantPartsShop()" style="font-size: 0.8rem; padding: 0.3rem 0.6rem;">–ö—É–ø–∏—Ç—å —á–∞—Å—Ç—å –∏–º–ø–ª–∞–Ω—Ç–∞</button>
                            <button class="pill-button" onclick="showImplantsManagement()" style="font-size: 0.8rem; padding: 0.3rem 0.6rem;">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–º–ø–ª–∞–Ω—Ç–∞–º–∏</button>
                        </div>
                    </div>
                </div>


                <!-- –°–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å -->
                <div class="section" id="propertySection">
                    <div class="section-header">
                        <h3 class="section-title"><img src="https://static.tildacdn.com/tild6361-6565-4764-b437-306433303764/car-check_1.png" alt="üè†" style="width: 24px; height: 24px; margin-right: 0.5rem;"> –°–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å</h3>
                    </div>
                    <div class="section-content expanded">
                        <!-- –ñ–∏–ª—å–µ -->
                        <div class="property-subsection">
                            <div class="section-subtitle">–ñ–∏–ª—å–µ</div>
                            <div id="housingContainer">
                                <p style="color: var(--muted); text-align: center; padding: 1rem;">–ñ–∏–ª—å–µ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ</p>
                            </div>
                            <button class="pill-button" onclick="addHousing()">–î–æ–±–∞–≤–∏—Ç—å –∂–∏–ª—å–µ</button>
                        </div>

                        <!-- –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç -->
                        <div class="property-subsection">
                            <div class="section-subtitle">–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</div>
                            <div style="display: flex; gap: 0.5rem; justify-content: center; margin-bottom: 1rem;">
                                <button class="pill-button primary-button" onclick="showVehicleShop()" style="font-size: 0.8rem; padding: 0.3rem 0.6rem;">–ö—É–ø–∏—Ç—å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç</button>
                                <button class="pill-button success-button" onclick="showVehicleModulesShop()" style="font-size: 0.8rem; padding: 0.3rem 0.6rem;">–ö—É–ø–∏—Ç—å –º–æ–¥—É–ª–∏</button>
                            </div>
                            <div id="vehiclesContainer">
                                <p style="color: var(--muted); text-align: center; padding: 1rem;">–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω</p>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

        </main>
    </div>

    <!-- –ü–ª–∞–≤–∞—é—â–∞—è –∫–Ω–æ–ø–∫–∞ –±—Ä–æ—Å–∞–ª–∫–∏ –∫—É–±–æ–≤ -->
    <div class="dice-button" id="diceButton" onclick="showUniversalDiceModal()" style="position: fixed; bottom: 180px; left: 20px; width: 60px; height: 60px; background: linear-gradient(135deg, #131f2a, #1a2633); border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; box-shadow: 0 4px 20px rgba(19, 31, 42, 0.6); z-index: 1000; transition: all 0.3s ease; border: 2px solid #2a3d4f;">
        <img src="https://static.tildacdn.com/tild6461-3139-4934-a463-333563633064/dice.png" alt="&#x1F3B2;" style="width: 32px; height: 32px;">
    </div>

    <!-- –ü–ª–∞–≤–∞—é—â–∞—è –∫–Ω–æ–ø–∫–∞ –∑–∞–º–µ—Ç–æ–∫ -->
    <div class="notes-button" id="notesButton" onclick="showNotesModal()" style="position: fixed; bottom: 20px; left: 20px; width: 60px; height: 60px; background: linear-gradient(135deg, #131f2a, #1a2633); border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; box-shadow: 0 4px 20px rgba(19, 31, 42, 0.6); z-index: 1000; transition: all 0.3s ease; border: 2px solid #2a3d4f;">
        <span style="font-size: 1.5rem; color: var(--bg); font-weight: bold;">&#x1F4DD;</span>
    </div>

    <!-- –ü–ª–∞–≤–∞—é—â–∞—è –∫–Ω–æ–ø–∫–∞ –ª–æ–≥–æ–≤ -->
    <div class="log-button" id="logButton" onclick="showFloatingLog()" style="position: fixed; bottom: 100px; left: 20px; width: 60px; height: 60px; background: linear-gradient(135deg, #131f2a, #1a2633); border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; box-shadow: 0 4px 20px rgba(19, 31, 42, 0.6); z-index: 1000; transition: all 0.3s ease; border: 2px solid #2a3d4f;">
        <img src="https://static.tildacdn.com/tild3432-3537-4564-a261-623265663130/log-data.png" alt="üì°" style="width: 32px; height: 32px;">
    </div>

    <!-- –ü–ª–∞–≤–∞—é—â–∏–π –±–ª–æ–∫ –ª–æ–≥–æ–≤ -->
    <div class="floating-log-window" id="floatingLogWindow" style="position: fixed; top: 100px; right: 20px; width: 400px; height: 500px; background: linear-gradient(135deg, #131f2a, #1a2633); border-radius: 12px; box-shadow: 0 8px 32px rgba(19, 31, 42, 0.8); z-index: 999; border: 2px solid #2a3d4f; display: flex; flex-direction: column; resize: both; overflow: hidden; min-width: 300px; min-height: 200px; max-width: 90vw; max-height: 90vh;">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ (–¥–ª—è –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è) -->
        <div class="floating-log-header" id="floatingLogHeader" style="background: linear-gradient(135deg, #1a2633, #213040); padding: 0.75rem 1rem; border-bottom: 1px solid #2a3d4f; cursor: move; display: flex; justify-content: space-between; align-items: center; user-select: none;">
            <span style="color: #00ffff; font-weight: 600; font-size: 0.9rem;">üì° –õ–û–ì –¢–í–û–ï–ô –ñ–ò–ó–ù–ò</span>
            <div style="display: flex; gap: 0.5rem;">
                <button onclick="clearRollLog()" style="background: transparent; border: none; color: #ff5b87; cursor: pointer; font-size: 0.8rem; padding: 0.2rem 0.5rem; border-radius: 4px; transition: background 0.2s;" onmouseover="this.style.background='rgba(255,91,135,0.2)'" onmouseout="this.style.background='transparent'">–û—á–∏—Å—Ç–∏—Ç—å</button>
                <button onclick="hideFloatingLog()" style="background: transparent; border: none; color: #00ffff; cursor: pointer; font-size: 1.2rem; line-height: 1; padding: 0;" title="–°–∫—Ä—ã—Ç—å">√ó</button>
            </div>
        </div>
        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç -->
        <div id="floatingLogContent" style="flex: 1; overflow-y: auto; padding: 0.5rem; font-size: 0.85rem; line-height: 1.4;">
            <p style="color: #5a7a8a; text-align: center; padding: 2rem;">–õ–æ–≥ –±—Ä–æ—Å–∫–æ–≤ –ø—É—Å—Ç</p>
        </div>
    </div>

    <!-- –°–≤–µ—Ä–Ω—É—Ç—ã–π –±–ª–æ–∫ –ª–æ–≥–æ–≤ (—Ç—Ä–µ–π) -->
    <div class="minimized-log" id="minimizedLog" onclick="toggleFloatingLog()" style="display: none; position: fixed; bottom: 180px; left: 20px; padding: 0.5rem 1rem; background: linear-gradient(135deg, #131f2a, #1a2633); border-radius: 20px; cursor: pointer; box-shadow: 0 4px 20px rgba(19, 31, 42, 0.6); z-index: 1000; border: 2px solid #2a3d4f; transition: all 0.3s ease;">
        <span style="color: #00ffff; font-weight: 600; font-size: 0.85rem;">üì° –õ–û–ì</span>
    </div>

    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ JavaScript —Ñ–∞–π–ª–æ–≤ -->
    <!-- –í–ê–ñ–ù–û: –ü–æ—Ä—è–¥–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ! -->
    <script src="data.js"></script>     <!-- –°–Ω–∞—á–∞–ª–∞ –¥–∞–Ω–Ω—ã–µ -->
    <script src="utils.js"></script>    <!-- –ó–∞—Ç–µ–º —É—Ç–∏–ª–∏—Ç—ã -->
    <script src="scripts.js"></script>  <!-- –í –∫–æ–Ω—Ü–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ -->
    
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ DOM
        document.addEventListener('DOMContentLoaded', function() {
            console.log('%c EZY: Cyber Character Sheet ', 'background: #b667ff; color: #0a0712; font-weight: bold; padding: 4px;');
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–≥—Ä—É–∑–∫—É –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
            if (typeof STANDARD_SKILLS !== 'undefined') {
                console.log('‚úì Data.js –∑–∞–≥—Ä—É–∂–µ–Ω');
            } else {
                console.error('‚úó Data.js –ù–ï –∑–∞–≥—Ä—É–∂–µ–Ω! –ü—Ä–æ–≤–µ—Ä—å—Ç–µ data.js');
            }
            
            if (typeof saveState === 'function') {
                console.log('‚úì Utils.js –∑–∞–≥—Ä—É–∂–µ–Ω');
            } else {
                console.error('‚úó Utils.js –ù–ï –∑–∞–≥—Ä—É–∂–µ–Ω! –ü—Ä–æ–≤–µ—Ä—å—Ç–µ utils.js');
            }
            
            if (typeof renderSkills === 'function') {
                console.log('‚úì Scripts.js –∑–∞–≥—Ä—É–∂–µ–Ω');
            } else {
                console.error('‚úó Scripts.js –ù–ï –∑–∞–≥—Ä—É–∂–µ–Ω! –ü—Ä–æ–≤–µ—Ä—å—Ç–µ scripts.js');
            }
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
            try {
                if (typeof loadState === 'function') {
                    loadState();
                }
                
                if (typeof detectTouchDevice === 'function') {
                    detectTouchDevice();
                }
                
                if (typeof initializeNumericInputs === 'function') {
                    initializeNumericInputs();
                }
                
                if (typeof initializeProfessionalSkillsTextareas === 'function') {
                    initializeProfessionalSkillsTextareas();
                }
                
                // –ó–∞–ø—É—Å–∫–∞–µ–º –∑–∞–≥—Ä—É–∑–æ—á–Ω—ã–π —ç–∫—Ä–∞–Ω
                if (typeof startLoadingAnimation === 'function') {
                    startLoadingAnimation();
                }
                
                console.log('‚úì –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ —É—Å–ø–µ—à–Ω–æ!');
            } catch (error) {
                console.error('‚úó –û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:', error);
            }
        });
    </script>
</body>
</html>